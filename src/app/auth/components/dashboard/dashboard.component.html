<div class="dashboard-container">
  <div class="dashboard-content">
    <!-- Header -->
    <div class="dashboard-header">
      <h1>ğŸ‰ ChÃ o má»«ng, {{ fullName() }}!</h1>
      <p>Báº¡n Ä‘Ã£ Ä‘Äƒng nháº­p thÃ nh cÃ´ng vÃ o há»‡ thá»‘ng</p>
    </div>

    <!-- User Info Card -->
    @if (user(); as currentUser) {
      <div class="user-card">
        <div class="user-avatar">
          <img [src]="currentUser.image" [alt]="currentUser.username" />
        </div>
        <div class="user-info">
          <h2>{{ currentUser.firstName }} {{ currentUser.lastName }}</h2>
          <div class="info-row">
            <span class="label">ğŸ‘¤ Username:</span>
            <span class="value">{{ currentUser.username }}</span>
          </div>
          <div class="info-row">
            <span class="label">ğŸ“§ Email:</span>
            <span class="value">{{ currentUser.email }}</span>
          </div>
          <div class="info-row">
            <span class="label">âš§ Gender:</span>
            <span class="value">{{ currentUser.gender }}</span>
          </div>
          <div class="info-row">
            <span class="label">ğŸ†” ID:</span>
            <span class="value">{{ currentUser.id }}</span>
          </div>
        </div>
      </div>
    }

    <!-- Token Info -->
    <div class="token-info">
      <h3>ğŸ”‘ Token Information</h3>
      <div class="token-box">
        <div class="token-label">Access Token:</div>
        <div class="token-value">{{ authStore.accessToken()?.substring(0, 50) }}...</div>
      </div>
      <div class="token-box">
        <div class="token-label">Refresh Token:</div>
        <div class="token-value">{{ authStore.refreshToken()?.substring(0, 50) }}...</div>
      </div>
    </div>

    <!-- Actions -->
    <div class="actions">
      <button class="btn btn-primary" routerLink="/auth/profile">
        ğŸ‘¤ Xem Profile
      </button>
      <button class="btn btn-secondary" (click)="onTestApiCall()">
        ğŸ§ª Test API Call
      </button>
      <button class="btn btn-danger" (click)="onLogout()">
        ğŸšª ÄÄƒng Xuáº¥t
      </button>
    </div>

    <!-- Info Box -->
    <div class="info-box">
      <h3>ğŸ’¡ ThÃ´ng tin há»¯u Ã­ch</h3>
      <ul>
        <li>âœ… Token Ä‘Æ°á»£c tá»± Ä‘á»™ng attach vÃ o má»i HTTP request</li>
        <li>âœ… Khi token háº¿t háº¡n (401), há»‡ thá»‘ng tá»± Ä‘á»™ng refresh</li>
        <li>âœ… Náº¿u refresh tháº¥t báº¡i, báº¡n sáº½ bá»‹ logout tá»± Ä‘á»™ng</li>
        <li>âœ… Auth state Ä‘Æ°á»£c lÆ°u trong localStorage</li>
        <li>âœ… Route guards báº£o vá»‡ cÃ¡c trang yÃªu cáº§u Ä‘Äƒng nháº­p</li>
      </ul>
    </div>

    <!-- Navigation -->
    <div class="navigation">
      <h3>ğŸ§­ Äiá»u hÆ°á»›ng</h3>
      <div class="nav-links">
        <a routerLink="/users" class="nav-link">ğŸ“‹ Users List</a>
        <a routerLink="/movies" class="nav-link">ğŸ¬ Movies</a>
        <a routerLink="/todos-practice" class="nav-link">âœ… Todos</a>
        <a routerLink="/admin" class="nav-link">ğŸ‘¥ Admin</a>
      </div>
    </div>
  </div>
</div>
